# P.为什么微积分极其易用
微积分是一个界面极其友好的工具，哪怕只有中学数学的基础，只要按部就班的（无需动脑的）使用，都能立刻解决一大堆原本高不可攀的数学或物理问题。在第一部分中，我们会介绍一大堆中小学数学公式升级成微积分公式的标准方法。

但是就像软件一样，越是好用的软件，工程师们往往在后面做了越多繁琐的工作。第二部分用更严谨的数学来证明，为什么我们可以这么简单粗暴的使用微积分。

经过证明之后，我就可以放心大胆的在日常生活中使用微积分了。
# 用微积分给中小学公式升级

在中小学中，我们学习过大量基于常量的公式。比如下面的公式
- 力学公式
	- $v=at$。在加速度不变（为常量）的情况下，加速度乘以时间等于速度
	- $x=vt$。在速度不变（为常量）的情况下，速度乘以时间等于距离
- 功的定义
	- $A=fx$。假设力和运动的方向一致，都沿着同一条直线。在力的大小和方向保持不变（为常量）的情况下，力乘以距离等于功。
- 面积公式
	- $s=hx$。对于长方形（高度是常量），高度乘以长度等于面积
- 体积公式
	- $v=sx$。对于长方体（截面积为常量），截面积乘以长度等于体积。

这些公式都能升级。

假设我们有一个常数公式，$g= f  x$，$f$在整个过程中保持不变。在日常生活的应用中，我们总可以立刻升级成下面的微积分版本
- 积分公式：$g(x_1)-g(x_0) = \int_{x_0}^{x_1} f(x) dx$。这个公式可以用计算器来算。
- 导数公式：$dg(x)/dx = f(x)$。这个公式可以用计算器来算，还常常可以用于列方程，方程一样可以用计算器来解。
- 微分公式：$dg(x)=f(x)dx$


# 为什么中小学公式能如此简单的升级？
简单粗暴使用微积分的前提条件是，f(x)在闭区间上连续。这个条件特别强，下面的证明中我们反复运用这个条件，把一切应用微积分的琐碎困难都消除了。而现实生活中特别是物理学中，所有函数都在定义域内连续。所以自然满足条件。

下面的第几册与页数都参考<数学分析新讲>1991年9月第一版，2014年2月第14次印刷。

## 升级成积分公式
![](../../../attachments/rps20220721_202728.jpg)

![](../../../attachments/rps20220721_202815.jpg)
总之，只要f(x)在闭区间上连续，常数公式升级成积分公式一点问题都没有。

### 基于线性公式引入夹挤

上面证明过程的第四步我经常会纠结

在函数$f(x)$在小区间为常数a时，待求的值公式$a \Delta x$，当$f(x)$是变量时，我们怎么证明待求的值一定在$m \Delta x$和$M \Delta x$之间呢？

不过在用微元法求面积、体积和功时我反复看到这样的手法，姑且当作一个规则
- 如果函数$f(x)$在小区间为常数时，待求的值有公式$a \Delta x$
- 那么，当$f(x)$是变量时，如果m和M是$f(x)$在小区间上的最小和最大值。待求的值必然在$m \Delta x$和$M \Delta x$之间


## 升级成导数公式

第二册p81 闭区间连续函数可积

第二册p85 闭区间上可积又连续的函数f(x)，该函数变上限的积分的导数就是f(x)。

运用这个定理，由积分公式就能推出导数公式。

## 升级成微分公式

第一册p162 可微等于可导